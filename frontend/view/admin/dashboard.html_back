<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>대시보드 - URL Checker</title>

    <!-- axios CDN 추가 -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    
    <!-- 관리자 레이아웃 스크립트 로드 -->
    <script src="../../assets/js/admin-layout-loader.js" defer></script>

    <!-- 대시보드 전용 head 요소들 -->
</head>
<body>
    <!-- 이 body 내용 전체가 레이아웃의 'page-content' 플레이스홀더에 삽입됩니다 -->

    <div class="container-fluid py-4">
        <div class="row">
            <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
                <div class="card">
                    <div class="card-header p-3 pt-2">
                        <div class="icon icon-lg icon-shape bg-gradient-dark shadow-dark text-center border-radius-xl mt-n4 position-absolute">
                            <i class="material-icons opacity-10">link</i>
                        </div>
                        <div class="text-end pt-1">
                            <p class="text-sm mb-0 text-capitalize">등록된 URL</p>
                            <h4 class="mb-0" id="totalUrls">0</h4>
                        </div>
                    </div>
                    <hr class="dark horizontal my-0">
                    <div class="card-footer p-3">
                        <p class="mb-0"><span class="text-success text-sm font-weight-bolder" id="newUrlsPercent">+0%</span> 지난주 대비</p>
                    </div>
                </div>
            </div>
            
            <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
                <div class="card">
                    <div class="card-header p-3 pt-2">
                        <div class="icon icon-lg icon-shape bg-gradient-primary shadow-primary text-center border-radius-xl mt-n4 position-absolute">
                            <i class="material-icons opacity-10">check_circle</i>
                        </div>
                        <div class="text-end pt-1">
                            <p class="text-sm mb-0 text-capitalize">정상 URL</p>
                            <h4 class="mb-0" id="activeUrls">0</h4>
                        </div>
                    </div>
                    <hr class="dark horizontal my-0">
                    <div class="card-footer p-3">
                        <p class="mb-0"><span class="text-success text-sm font-weight-bolder" id="activeUrlsPercent">0%</span> 전체 URL 중</p>
                    </div>
                </div>
            </div>
            
            <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
                <div class="card">
                    <div class="card-header p-3 pt-2">
                        <div class="icon icon-lg icon-shape bg-gradient-warning shadow-warning text-center border-radius-xl mt-n4 position-absolute">
                            <i class="material-icons opacity-10">warning</i>
                        </div>
                        <div class="text-end pt-1">
                            <p class="text-sm mb-0 text-capitalize">경고 URL</p>
                            <h4 class="mb-0" id="warningUrls">0</h4>
                        </div>
                    </div>
                    <hr class="dark horizontal my-0">
                    <div class="card-footer p-3">
                        <p class="mb-0"><span class="text-danger text-sm font-weight-bolder" id="warningUrlsPercent">0%</span> 전체 URL 중</p>
                    </div>
                </div>
            </div>
            
            <div class="col-xl-3 col-sm-6">
                <div class="card">
                    <div class="card-header p-3 pt-2">
                        <div class="icon icon-lg icon-shape bg-gradient-danger shadow-danger text-center border-radius-xl mt-n4 position-absolute">
                            <i class="material-icons opacity-10">error</i>
                        </div>
                        <div class="text-end pt-1">
                            <p class="text-sm mb-0 text-capitalize">오류 URL</p>
                            <h4 class="mb-0" id="errorUrls">0</h4>
                        </div>
                    </div>
                    <hr class="dark horizontal my-0">
                    <div class="card-footer p-3">
                        <p class="mb-0"><span class="text-danger text-sm font-weight-bolder" id="errorUrlsPercent">0%</span> 전체 URL 중</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row mt-4">
            <div class="col-12">
                <div class="card my-4">
                    <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
                        <div class="bg-gradient-dark shadow-dark border-radius-lg pt-4 pb-3 d-flex justify-content-between align-items-center">
                            <h6 class="text-white text-capitalize ps-3 mb-0">URL 목록</h6>
                            <div class="me-3">
                                <button class="btn btn-sm bg-gradient-success" id="addUrlBtn">URL 추가</button>
                                <button class="btn btn-sm bg-gradient-info" id="refreshUrlsBtn">새로고침</button>
                            </div>
                        </div>
                    </div>
                    <div class="card-body px-0 pb-2">
                        <div class="table-responsive p-0">
                            <table class="table align-items-center mb-0">
                                <thead>
                                    <tr>
                                        <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">URL</th>
                                        <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">상태</th>
                                        <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">응답 시간</th>
                                        <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">마지막 확인</th>
                                        <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">작업</th>
                                    </tr>
                                </thead>
                                <tbody id="urlTableBody">
                                    <!-- 데이터가 여기에 동적으로 로드됩니다 -->
                                    <tr>
                                        <td colspan="5" class="text-center">로딩 중...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- URL 추가 모달 -->
    <div class="modal fade" id="addUrlModal" tabindex="-1" role="dialog" aria-labelledby="addUrlModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addUrlModalLabel">URL 추가</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="addUrlForm">
                        <div class="input-group input-group-outline my-3">
                            <label class="form-label">URL (https://example.com)</label>
                            <input type="url" class="form-control" id="urlInput" required>
                        </div>
                        <div class="input-group input-group-outline my-3">
                            <label class="form-label">설명 (선택사항)</label>
                            <input type="text" class="form-control" id="urlDescription">
                        </div>
                        <div class="form-check form-switch ps-0">
                            <input class="form-check-input ms-auto" type="checkbox" id="urlActive" checked>
                            <label class="form-check-label text-body ms-3 text-truncate w-80 mb-0" for="urlActive">활성화</label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn bg-gradient-secondary" data-bs-dismiss="modal">취소</button>
                    <button type="button" class="btn bg-gradient-primary" id="saveUrlBtn">저장</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 스크립트 로드 -->
    <script src="../../assets/js/admin/dashboard.js"></script>
</body>
</html>